<div class="container mat-elevation-z6">
    
  <form class="form">
      <h2 class="fullWidth">Cadastro de Obra</h2>

      <mat-divider></mat-divider>

      <div fxLayout="row" fxLayoutGap="20px">
        <mat-form-field fxFlex="10" appearance="outline">
          <mat-label>Código</mat-label>
          <input 
          disabled="true"
          [(ngModel)]="obra.idObra"
          name="idObra"
          type="number" 
          matInput>
        </mat-form-field> 

        <mat-form-field fxFlex="90" appearance="outline">
          <mat-label>Descrição</mat-label>
          <input 
          [(ngModel)]="obra.descricao"
          name="descricao"
          [formControl]="descricao"
          required
          matInput 
          placeholder="Descrição">
        </mat-form-field>
      </div>
        
      <div fxLayout="row" fxLayoutGap="20px">
        <mat-form-field fxFlex="33"appearance="outline">
          <mat-label>Status</mat-label>
          <mat-select
            [(ngModel)]="obra.status"
            name="status"
            [formControl]="status" 
            required>
            <mat-option value="0">ABERTO</mat-option>
            <mat-option value="1">EM ANDAMENTO</mat-option>
            <mat-option value="2">CONCLUÍDO</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field fxFlex="33" appearance="outline">
          <mat-label>Cliente</mat-label>
          <mat-select
            [(ngModel)]="obra.idCliente"
            name="cliente"
            [formControl]="cliente">
            <mat-option *ngFor="let cliente of clientes" value="{{ cliente.idCliente }}">{{ cliente.nome }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field fxFlex="33" appearance="outline">
          <mat-label>Data Cadastro</mat-label>
          <input 
          [(ngModel)]="obra.dataCadastro"
          name="dataCadastro"
          type="date" 
          matInput 
          disabled="true">
        </mat-form-field>
      </div>
        
        <div fxLayout="row" fxLayoutGap="20px">
            <mat-form-field class="observacoes" fxFlex="100" appearance="outline">
                <mat-label>Observação</mat-label>
                <textarea 
                    [(ngModel)]="obra.observacoes"
                    name="observacoes"
                    [formControl]="observacoes"
                    class="observacoes" 
                    matInput >
                </textarea>
            </mat-form-field>
        </div>

      <button (click)="create()" [disabled]="!validaCampos()" class="mat-elevation-z2" mat-flat-button color="primary">Salvar</button>
      <button routerLink="../" class="mat-elevation-z2" mat-stroked-button color="warn">Cancelar</button>

    </form>

</div>